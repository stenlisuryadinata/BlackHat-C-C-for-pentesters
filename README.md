# Black Hat C/C++ for Pentesters in Linux

## Description

This project includes C++ code for capturing web screenshots in headless mode using Google Chrome. The code is intended for educational purposes and pentesting scenarios. Please use responsibly and comply with all applicable laws and ethical guidelines.

## Prerequisites

- Linux environment
- Google Chrome installed
- g++ compiler (for building C++ code)

## Instructions

1. Clone the repository:

    ```bash
    git clone https://github.com/yourusername/blackhat-c-cpp-pentest.git
    cd blackhat-c-cpp-pentest
    ```

2. Build the C++ code:

    ```bash
    g++ -o Web_Screenshot Web_Screenshot.cpp
    ```

3. Run the executable:

    ```bash
    ./Web_Screenshot
    ```

4. Check the output for the saved PDF file on your desktop.

# Generating Core Dumps in Linux

## Overview

This section provides instructions on how to generate core dumps for processes in Linux using the gcore utility. Additionally, it includes information on adjusting the ptrace_scope setting for enhanced debugging capabilities.

## Prerequisites

Make sure you have the necessary tools installed:

g++ compiler
gcore utility

## Adjusting ptrace_scope Setting

If you encounter issues related to ptrace operations, follow these steps to adjust the ptrace_scope setting:

Open a terminal.

Check and adjust the ptrace_scope setting:
```
bash
Copy code
sudo nano /etc/sysctl.d/10-ptrace.conf
```
If the file doesn't exist, create it with the following content:
```
conf
Copy code
kernel.yama.ptrace_scope = 0
```
Save the file and apply the changes:
```
bash
Copy code
sudo sysctl -p
```

## Steps

Open a terminal.

Navigate to the directory containing the Credential_Dump.cpp file.

Compile the C++ program using the following command:
```
bash
Copy code
sudo g++ -o credential_dump Credential_Dump.cpp
```

Find the process ID (PID) of the target process (e.g., ls):
```
bash
Copy code
pgrep ls
```
Generate a core dump for the target process using gcore. Replace <process_id> with the actual process ID obtained from the previous step, and adjust the output directory as needed:
```
bash
Copy code
sudo gcore -o /home/ubuntu/work/core_dump <process_id>
```
Example:
```
bash
Copy code
pgrep ls    # Assuming you want to target a process named 'ls'
sudo gcore -o /home/ubuntu/work/core_dump <ls_pid>
```
## Review the output:

Check the specified output directory (e.g., /home/ubuntu/work/core_dump in this example) for the generated core dump files.

Notes
Keep in mind that generating core dumps involves attaching to running processes, and certain security settings may affect the ability to do so. Ensure that your system settings allow process tracing.
Reverting to Default ptrace_scope Setting
After testing, if you want to revert the ptrace_scope setting to default:

Open the /etc/sysctl.d/10-ptrace.conf file:
```
bash
Copy code
sudo nano /etc/sysctl.d/10-ptrace.conf
```
Change the value of kernel.yama.ptrace_scope to its default value (usually 1). If the file was not present before you created it, you can simply remove the file.

Save the file.

Apply the changes:
```
bash
Copy code
sudo sysctl -p
```
By doing this, you'll revert the ptrace_scope setting to its default value or remove the custom configuration if you created a new file. Keep in mind that adjusting system settings, especially security-related configurations, should be done with caution.

## Here's the additional output for reference:
```
bash
root@ubuntu-VirtualBox:/home/ubuntu/work# sudo g++ -o credential_dump Credential_Dump.cpp
root@ubuntu-VirtualBox:/home/ubuntu/work# pgrep ls
1640
3781
root@ubuntu-VirtualBox:/home/ubuntu/work# sudo gcore -o /home/ubuntu/work/core_dump 1640
[New LWP 1725]
[New LWP 1733]
[New LWP 1737]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
0x00007fa4d0118cce in ppoll () from /lib/x86_64-linux-gnu/libc.so.6
warning: target file /proc/1640/cmdline contained unexpected null characters
warning: Memory read failed for corefile section, 4096 bytes at 0xffffffffff600000.
Saved corefile /home/ubuntu/work/core_dump.1640
[Inferior 1 (process 1640) detached]
```
This output demonstrates the compilation of the Credential_Dump.cpp program, finding the process ID of 'ls' using pgrep, and generating a core dump for the process with ID 1640 using gcore. The warning messages during the process indicate certain aspects of the core dump generation. The final line indicates the successful saving of the core file.

## Disclaimer

This project is for educational and testing purposes only. Ensure that you have the legal right to perform any actions described in the code. The project contributors are not responsible for any misuse or illegal activities.

## Contributing

Feel free to contribute by opening issues or submitting pull requests.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
